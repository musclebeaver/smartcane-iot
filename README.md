## ğŸ¤– AI ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ & ê¸°ìˆ  ì„¤ëª…

### 1. ê°œìš”
ë³¸ **ìŠ¤ë§ˆíŠ¸ ì§€íŒ¡ì´**ëŠ” ìµœì²¨ë‹¨ AI ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ ì‹œê°ì¥ì• ì¸ì˜ ë³´í–‰ ì•ˆì „ê³¼ ì •ë³´ ì ‘ê·¼ì„±ì„ í˜ì‹ ì ìœ¼ë¡œ í–¥ìƒì‹œí‚¤ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.  
ì‹œìŠ¤í…œì˜ ì‹¬ì¥ë¶€ì—ëŠ” **YOLOv10**ì´ íƒ‘ì¬ë˜ì–´ ìˆìœ¼ë©°, ì´ëŠ” **ì¢…ë‹¨ê°„(End-to-End) ì‹¤ì‹œê°„ ê°ì²´ íƒì§€**ë¥¼ êµ¬í˜„í•˜ì—¬ ì§€ì—° ì—†ëŠ” ì•ˆì „í•œ ë³´í–‰ ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.

> âœ… **í•µì‹¬ íŠ¹ì§•**
- **NMS-Free ì•„í‚¤í…ì²˜** â†’ ì¶”ë¡  ë³‘ëª© í˜„ìƒ ì œê±°
- **í•˜ì´ë¸Œë¦¬ë“œ ì»´í“¨íŒ…** â†’ ì˜¨ë³´ë“œ ì„¼ì„œ(ì¹´ë©”ë¼, ì´ˆìŒíŒŒ) + ìŠ¤ë§ˆíŠ¸í° AP í™œìš©
- **Latency-Throughput Trade-off ê·¹ë³µ** â†’ ì†ë„Â·ì •í™•ë„Â·ì „ë ¥ íš¨ìœ¨ì„ ë™ì‹œì— ë‹¬ì„±

---

### 2. í•µì‹¬ AI ëª¨ë¸: YOLOv10 ì±„íƒì˜ ê³µí•™ì  í•„ì—°ì„±
#### ğŸš€ NMS-Free êµ¬ì¡°
- **ê¸°ì¡´ ë¬¸ì œì **: NMS(Non-Maximum Suppression) í›„ì²˜ë¦¬ ê³¼ì •ìœ¼ë¡œ ì¸í•œ ì§€ì—°
- **í˜ì‹ ì  í•´ê²°**: í›ˆë ¨ ë‹¨ê³„ì—ì„œ `Consistent Dual Assignments` ì ìš© â†’ ì¶”ë¡  ì‹œ ì¦‰ì‹œ ê²°ê³¼ ë„ì¶œ
- **íš¨ê³¼**: ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ìˆ˜ì‹­ ms ì§€ì—° ì œê±° â†’ **ìœ„í—˜ ìƒí™©(ê³„ë‹¨, ì¥ì• ë¬¼) ì¦‰ê° ì•ˆë‚´**

#### âš¡ ì •í™•ë„-íš¨ìœ¨ ë™ì‹œ ìµœì í™”
- **ê²½ëŸ‰ ë¶„ë¥˜ í—¤ë“œ (Lightweight Head)** â†’ FLOPs & íŒŒë¼ë¯¸í„° ê°ì†Œ, ë°°í„°ë¦¬ ì†Œëª¨ ìµœì†Œí™”
- **ê³µê°„-ì±„ë„ ë¶„ë¦¬ ë‹¤ìš´ìƒ˜í”Œë§** â†’ ì‘ì€ ì‹ í˜¸ë“±Â·ê°„íŒÂ·ê²½ê³„ì„ë„ ì •í™•íˆ íƒì§€

---

### 3. AI ì‹œìŠ¤í…œ ë°ì´í„° í”Œë¡œìš°



```mermaid
flowchart TD
  A["ì§€íŒ¡ì´ ì„¼ì„œ(ì¹´ë©”ë¼Â·ì´ˆìŒíŒŒ)"]
  B["ë¼ì¦ˆë² ë¦¬íŒŒì´ ì „ì²˜ë¦¬"]
  C["ìŠ¤ë§ˆíŠ¸í° YOLOv10 ì¶”ë¡ "]
  D["ìƒí™©ë³„ í›„ì²˜ë¦¬"]
  E["ìµœì¢… ì•ˆë‚´ ìƒì„±(ìœ„ì¹˜Â·ê±°ë¦¬Â·ìƒí™© ì„¤ëª…)"]
  F["í”¼ë“œë°± ì „ë‹¬"]
  G["ì†ë ì ì ì•ˆë‚´"]
  H["ìŒì„± ì¶œë ¥"]

  A --> B
  B -- "BLE/Wi-Fi ì „ì†¡" --> C
  C -- "ê°ì²´/í…ìŠ¤íŠ¸ ì¸ì‹" --> D
  D --> E
  E --> F
  F -- "ì ì ëª¨ë“ˆ" --> G
  F -- "TTS ì—”ì§„" --> H
```
---

### 4. ë‹¨ê³„ë³„ ë™ì‘

#### ğŸ”¹ 1ë‹¨ê³„: ë°ì´í„° ìˆ˜ì§‘ ë° ì˜¨ë³´ë“œ ì²˜ë¦¬ (ì§€íŒ¡ì´)
- ì¹´ë©”ë¼/ì´ˆìŒíŒŒ ì„¼ì„œ â†’ ì‹¤ì‹œê°„ ë°ì´í„° ìº¡ì²˜  
- YOLOv10 ì…ë ¥ í¬ê¸°ì— ë§ê²Œ **ë¦¬ì‚¬ì´ì¦ˆÂ·ì •ê·œí™”**

#### ğŸ”¹ 2ë‹¨ê³„: YOLOv10 ê¸°ë°˜ ì¶”ë¡  (ìŠ¤ë§ˆíŠ¸í°)
- End-to-End ì¶”ë¡  (0.1ì´ˆ ì´ë‚´)  
- ê²°ê³¼: `[ê°ì²´ ì¢…ë¥˜, ì‹ ë¢°ë„, ìœ„ì¹˜ ì¢Œí‘œ]`  
- OCR â†’ í‘œì§€íŒ/ë¼ë²¨ í…ìŠ¤íŠ¸ ì¶”ì¶œ

#### ğŸ”¹ 3ë‹¨ê³„: ì‚¬ìš©ì í”¼ë“œë°± ìƒì„± (ì§€íŒ¡ì´)
- ì˜ˆ: `"ì˜¤ë¥¸ìª½ì— ì•„ë˜ë¡œ ë‚´ë ¤ê°€ëŠ” ê³„ë‹¨ì´ ìˆìŠµë‹ˆë‹¤"`  
- **ì¶œë ¥ ëª¨ë“œ**
  - ì ì ëª¨ë“ˆ â†’ ì†ë ì•ˆë‚´  
  - TTS â†’ ì´ì–´í°/ìŠ¤í”¼ì»¤ ìŒì„± ì•ˆë‚´  

---

### âœ¨ ê¸°ëŒ€ íš¨ê³¼
- **ì‹¤ì‹œê°„ ì•ˆì „ ë³´í–‰** â†’ ì¸ì§€ ì§€ì—° ì—†ëŠ” ìœ„í—˜ ê°ì§€  
- **ì „ë ¥ íš¨ìœ¨ ìµœì í™”** â†’ ìŠ¤ë§ˆíŠ¸í°/ì§€íŒ¡ì´ ì‚¬ìš© ì‹œê°„ ì¦ê°€  
- **ì •ë³´ ì ‘ê·¼ì„± ê°•í™”** â†’ ì‘ì€ ê°„íŒÂ·í…ìŠ¤íŠ¸ê¹Œì§€ ì •í™•íˆ ì¸ì‹

## ğŸ“Š AI ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

<img src="./images/ai-flow.png" alt="AI ì‹œìŠ¤í…œ ë°ì´í„° í”Œë¡œìš°" width="600" />

---

## ğŸšŒ ìŠ¤ë§ˆíŠ¸ ì§€íŒ¡ì´ + ëŒ€ì¤‘êµí†µ ì•ˆë‚´ ì‹œìŠ¤í…œ

<img src="./images/bus-system.jpg" alt="ëŒ€ì¤‘êµí†µ ì•ˆë‚´ í”Œë¡œìš°" width="800" height="400" />  


## ğŸ—ºï¸ TMap API í˜¸ì¶œ ì˜ˆì‹œ (JSON)

ìš”ì²­/ì‘ë‹µì„ ê·¸ëŒ€ë¡œ ë‹¤ ë³´ì—¬ì£¼ê¸°ì—” ê¸¸ê¸° ë•Œë¬¸ì—, ë¨¼ì € **í•µì‹¬ ìš”ì•½**ì„ í‘œë¡œ ë³´ì—¬ì£¼ê³   
ì›í•˜ë©´ í´ë¦­í•´ì„œ **ì „ì²´ JSONì„ í¼ì³ë³¼ ìˆ˜ ìˆê²Œ** í–ˆìŠµë‹ˆë‹¤.

### ğŸ” í•µì‹¬ ìš”ì•½
| í•­ëª© | ê°’ |
|---|---|
| ì´ ìš”ê¸ˆ | 1,500ì› (KRW) |
| ì´ ì†Œìš” ì‹œê°„ | 14ë¶„ 33ì´ˆ (873ì´ˆ) |
| ì´ ê±°ë¦¬ | 3.16 km (3,157 m) |
| í™˜ìŠ¹ íšŸìˆ˜ | 0 |
| ë„ë³´ | 7ë¶„ 42ì´ˆ / 492 m |
| ë²„ìŠ¤ ë…¸ì„  | ê°„ì„ :400 (`routeColor: #0068B7`) |
| ì¶œë°œì§€ | 37.504585233865086, 127.02479803562213 |
| ë„ì°©ì§€ | 37.479103923078995, 127.03747630119366 |

> JSONPath ì°¸ê³   
> - ìš”ê¸ˆ: `metaData.plan.itineraries[0].fare.regular.totalFare`  
> - ì´ ì‹œê°„: `metaData.plan.itineraries[0].totalTime`  
> - ì´ ê±°ë¦¬: `metaData.plan.itineraries[0].totalDistance`  
> - ë„ë³´(ì‹œê°„/ê±°ë¦¬): `metaData.plan.itineraries[0].totalWalkTime`, `totalWalkDistance`  
> - ë²„ìŠ¤ ë…¸ì„ ëª…: `...legs[?(@.mode=="BUS")].route`  
> - ê²½ë¡œ ìƒ‰ìƒ: `...legs[?(@.mode=="BUS")].routeColor`  
> - ì¶œë°œ/ë„ì°© ì¢Œí‘œ: `...legs[0].start`, `...legs[-1].end`

---
## âš¡ í•˜ë“œì›¨ì–´ ì—°ê²° íšŒë¡œë„

### ğŸµ ì˜¤ë””ì˜¤ ì¶œë ¥ íšŒë¡œ (DFPlayer Mini + ìŠ¤í”¼ì»¤)
<img src="./images/product1.jpg" alt="DFPlayer Mini íšŒë¡œë„" width="600"/>

---

### ğŸ® ë²„íŠ¼ + ì§„ë™ ëª¨í„° ì œì–´ íšŒë¡œ (Arduino Nano)
<img src="./images/product2.jpg" alt="Arduino Nano ë²„íŠ¼/ëª¨í„° íšŒë¡œë„" width="600"/>

---

### ğŸ“¦ ì›ë³¸ JSON (í¼ì³ë³´ê¸°)
<details>
<summary><strong>ì „ì²´ JSON ë³´ê¸°</strong></summary>

```json
{
  "metaData": {
    "requestParameters": {
      "busCount": 1,
      "expressbusCount": 0,
      "subwayCount": 0,
      "airplaneCount": 0,
      "locale": "ko",
      "endY": "37.479103923078995",
      "endX": "127.03747630119366",
      "wideareaRouteCount": 0,
      "subwayBusCount": 0,
      "startY": "37.504585233865086",
      "startX": "127.02479803562213",
      "ferryCount": 0,
      "trainCount": 0,
      "reqDttm": "20230808082843"
    },
    "plan": {
      "itineraries": [
        {
          "fare": {
            "regular": {
              "totalFare": 1500,
              "currency": {
                "symbol": "ï¿¦",
                "currency": "ì›",
                "currencyCode": "KRW"
              }
            }
          },
          "totalTime": 873,
          "legs": [
            {
              "mode": "WALK",
              "sectionTime": 400,
              "distance": 408,
              "start": { "name": "ì¶œë°œì§€", "lon": 127.02479803562213, "lat": 37.504585233865086 },
              "end": { "name": "ì§€í•˜ì² 2í˜¸ì„ ê°•ë‚¨ì—­(ì¤‘)", "lon": 127.02569444444444, "lat": 37.501725 },
              "steps": [
                { "streetName": "", "distance": 13, "description": "13m ì´ë™", "linestring": "127.02481,37.504562 127.024666,37.50452" },
                { "streetName": "", "distance": 8, "description": "ë¯¸ìŠ¤í„°ë„ë„› ì‹ ë…¼í˜„ì—­ì  ì—ì„œ ì¢ŒíšŒì „ í›„ 8m ì´ë™ ", "linestring": "127.024666,37.50452 127.02475,37.50451" }
                // ... (ì¤‘ëµ: ë‚˜ë¨¸ì§€ steps ë™ì¼)
              ]
            },
            {
              "routeColor": "0068B7",
              "distance": 2759,
              "start": { "name": "ì§€í•˜ì² 2í˜¸ì„ ê°•ë‚¨ì—­(ì¤‘)", "lon": 127.02569444444444, "lat": 37.501725 },
              "Lane": [{ "routeColor": "0068B7", "route": "ê°„ì„ :542", "routeId": "2247001", "service": 1, "type": 11 }],
              "type": 11,
              "mode": "BUS",
              "sectionTime": 411,
              "route": "ê°„ì„ :400",
              "routeId": "11504001",
              "service": 1,
              "passStopList": {
                "stationList": [
                  { "index": 0, "stationName": "ì§€í•˜ì² 2í˜¸ì„ ê°•ë‚¨ì—­(ì¤‘)", "lon": "127.025694", "lat": "37.501725", "stationID": "772608" }
                  // ... (ì¤‘ëµ)
                ]
              },
              "end": { "name": "ì¼ë™ì œì•½ì‚¬ê±°ë¦¬", "lon": 127.03824722222222, "lat": 37.47904722222222 },
              "passShape": { "linestring": "127.025675,37.501708 127.026528,37.499994 ..." }
            },
            {
              "mode": "WALK",
              "sectionTime": 62,
              "distance": 84,
              "start": { "name": "ì¼ë™ì œì•½ì‚¬ê±°ë¦¬", "lon": 127.03824722222222, "lat": 37.47904722222222 },
              "end": { "name": "ë„ì°©ì§€", "lon": 127.03747630119366, "lat": 37.479103923078995 },
              "steps": [
                { "streetName": "ê°•ë‚¨ëŒ€ë¡œ", "distance": 36, "description": "ê°•ë‚¨ëŒ€ë¡œ ì„ ë”°ë¼ 36m ì´ë™", "linestring": "127.0381,37.479004 127.03806,37.4791 127.03799,37.479313" }
                // ... (ì¤‘ëµ)
              ]
            }
          ],
          "totalWalkTime": 462,
          "transferCount": 0,
          "totalDistance": 3157,
          "pathType": 2,
          "totalWalkDistance": 492
        }
      ]
    }
  }
}
```
</details>
---

## ğŸ“‚ ì£¼ìš” ì½”ë“œ íŒŒì¼

- [CameraWebServer_mixtest.ino](./src/CameraWebServer_mixtest/CameraWebServer_mixtest.ino)  
- [app_httpd.cpp](./src/CameraWebServer_mixtest/app_httpd.cpp)  
- [board_config.h](./src/CameraWebServer_mixtest/board_config.h)
- [board_config.h](./src/CameraWebServer_mixtest/camera_index.h)
- [board_config.h](./src/CameraWebServer_mixtest/camera_pins.h)  


